!DOCTYPE html
html
head
    titleAttendance Formtitle
    meta name=viewport content=width=device-width, initial-scale=1.0
    style
         { margin 0; padding 0; box-sizing border-box; }
        body {
            font-family 'Segoe UI', Arial, sans-serif;
            background linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height 100vh;
            display flex;
            justify-content center;
            align-items center;
            padding 20px;
        }
        .container {
            background white;
            width 100%;
            max-width 450px;
            padding 35px;
            border-radius 20px;
            box-shadow 0 15px 50px rgba(0,0,0,0.2);
        }
        .header {
            text-align center;
            margin-bottom 30px;
        }
        .header h1 {
            color #333;
            margin-bottom 10px;
            font-size 32px;
        }
        .header .subtitle {
            color #666;
            font-size 18px;
        }
        .date-box {
            background #e3f2fd;
            padding 12px;
            border-radius 10px;
            text-align center;
            margin-bottom 25px;
            font-size 18px;
            font-weight 600;
            color #1565c0;
        }
        .form-group {
            margin-bottom 25px;
        }
        label {
            display block;
            margin-bottom 8px;
            color #444;
            font-weight 600;
            font-size 16px;
        }
        input {
            width 100%;
            padding 15px;
            border 2px solid #ddd;
            border-radius 10px;
            font-size 16px;
            transition all 0.3s;
        }
        inputfocus {
            outline none;
            border-color #6a11cb;
            box-shadow 0 0 0 3px rgba(106, 17, 203, 0.1);
        }
        .submit-btn {
            background linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color white;
            border none;
            padding 18px;
            font-size 18px;
            font-weight 600;
            border-radius 10px;
            cursor pointer;
            width 100%;
            transition all 0.3s;
            margin-top 10px;
        }
        .submit-btnhover {
            transform translateY(-3px);
            box-shadow 0 10px 20px rgba(106, 17, 203, 0.3);
        }
        .submit-btnactive {
            transform translateY(-1px);
        }
        .message {
            padding 15px;
            border-radius 10px;
            margin-top 20px;
            text-align center;
            font-weight 500;
            display none;
            animation fadeIn 0.5s;
        }
        .success {
            background #d4edda;
            color #155724;
            border 1px solid #c3e6cb;
        }
        .error {
            background #f8d7da;
            color #721c24;
            border 1px solid #f5c6cb;
        }
        .loading {
            background #fff3cd;
            color #856404;
            border 1px solid #ffeaa7;
        }
        @keyframes fadeIn {
            from { opacity 0; transform translateY(-10px); }
            to { opacity 1; transform translateY(0); }
        }
        .instructions {
            background #f8f9fa;
            padding 15px;
            border-radius 10px;
            margin-bottom 25px;
            color #555;
            font-size 15px;
        }
        .instructions h3 {
            margin-top 0;
            color #333;
        }
    style
head
body
    div class=container
        div class=header
            h1üéØ Attendance Registrationh1
            div class=subtitleMark your presence quicklydiv
        div
        
        div class=date-box id=currentDate
            üìÖ Loading date...
        div
        
        div class=instructions
            h3üìã Instructionsh3
            ol
                liEnter your roll numberli
                liClick Submit buttonli
                liWait for confirmationli
            ol
        div
        
        form id=attendanceForm
            div class=form-group
                label for=rollnoüìù Roll Numberlabel
                input type=number id=rollno min=1 max=100 required 
                       placeholder=Enter your roll number (e.g., 23)
            div
            
            div class=form-group
                label for=nameüë§ Your Name (Optional)label
                input type=text id=name placeholder=Enter your name
            div
            
            button type=submit class=submit-btn
                ‚úÖ Submit Attendance
            button
        form
        
        div id=message class=messagediv
    div
    
    script
     Set current date
    const now = new Date();
    const formattedDate = now.toLocaleDateString('en-IN', {
        weekday 'long',
        year 'numeric',
        month 'long',
        day 'numeric'
    });
    document.getElementById('currentDate').textContent = `üìÖ ${formattedDate}`;
    
     Set focus on roll number field
    document.getElementById('rollno').focus();
    
     Handle form submission
    document.getElementById('attendanceForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const rollno = document.getElementById('rollno').value;
        const name = document.getElementById('name').value  'Student';
        const date = now.toISOString().split('T')[0];  YYYY-MM-DD format
        const time = now.toLocaleTimeString('en-IN', { 
            hour '2-digit', 
            minute '2-digit',
            second '2-digit',
            hour12 true 
        });
        
         Show loading message
        const messageDiv = document.getElementById('message');
        messageDiv.textContent = üì§ Recording your attendance...;
        messageDiv.className = message loading;
        messageDiv.style.display = block;
        
         Disable submit button
        const submitBtn = document.querySelector('.submit-btn');
        submitBtn.disabled = true;
        submitBtn.textContent = ‚è≥ Processing...;
        
        try {
             YOUR THINGSPEAK API KEY
            const API_KEY = QGUW2OYTXJT4F13W;
            
             Send to ThingSpeak
            const response = await fetch(
                `httpsapi.thingspeak.comupdateapi_key=${API_KEY}&field1=${rollno}&field2=${date}&field3=${time}`
            );
            
            if (response.ok) {
                 Success
                messageDiv.innerHTML = `
                    div style=font-size 24px; margin-bottom 10px;‚úÖdiv
                    div style=font-size 18px; font-weight bold;Attendance Recorded!div
                    div style=margin-top 10px;
                        Roll No strong${rollno}strongbr
                        Name strong${name}strongbr
                        Time strong${time}strong
                    div
                `;
                messageDiv.className = message success;
                
                 Clear form
                document.getElementById('rollno').value = '';
                document.getElementById('name').value = '';
                
                 Auto-close after 5 seconds (works on mobile)
                setTimeout(() = {
                    messageDiv.innerHTML += div style='margin-top 15px; font-size 14px;'Window will close in 3 seconds...div;
                }, 2000);
                
                setTimeout(() = {
                     Try to close the windowtab
                    window.close();
                }, 5000);
                
            } else {
                throw new Error('Server responded with error');
            }
            
        } catch (error) {
             Error handling
            messageDiv.innerHTML = `
                div style=font-size 24px; margin-bottom 10px;‚ùådiv
                div style=font-size 18px; font-weight bold;Submission Faileddiv
                div style=margin-top 10px;
                    Please try again in a moment.br
                    If problem continues, inform your teacher.
                div
            `;
            messageDiv.className = message error;
            
             Re-enable button after error
            setTimeout(() = {
                submitBtn.disabled = false;
                submitBtn.textContent = ‚úÖ Submit Attendance;
            }, 3000);
            
        } finally {
             Re-enable button after 3 seconds even on success
            setTimeout(() = {
                submitBtn.disabled = false;
                submitBtn.textContent = ‚úÖ Submit Attendance;
            }, 3000);
        }
    });
    script
body
html